{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[dogImage,setDogImage]=useState('');const[loading,setLoading]=useState(true);const[error,setError]=useState('');// URL do backend baseada no ambiente\nconst backendUrl=process.env.REACT_APP_BACKEND_URL||'http://localhost:8080';useEffect(()=>{fetchDogImage();},[]);const fetchDogImage=async()=>{try{setLoading(true);// Usando um ID aleat贸rio (1-100) para a API\nconst randomId=Math.floor(Math.random()*100)+1;const response=await fetch(`${backendUrl}/info/${randomId}`);if(!response.ok){throw new Error('Erro ao buscar imagem do cachorro');}const data=await response.json();setDogImage(data.message);}catch(err){setError(err instanceof Error?err.message:'Erro desconhecido');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Imagem Aleat\\xF3ria de Cachorro\"}),loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Carregando...\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),dogImage&&/*#__PURE__*/_jsxs(\"div\",{className:\"image-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:dogImage,alt:\"Cachorro aleat\\xF3rio\"}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchDogImage,className:\"load-button\",children:\"Carregar Nova Imagem\"})]})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","App","dogImage","setDogImage","loading","setLoading","error","setError","backendUrl","process","env","REACT_APP_BACKEND_URL","fetchDogImage","randomId","Math","floor","random","response","fetch","ok","Error","data","json","message","err","className","children","src","alt","onClick"],"sources":["/workspaces/CachorrosSpringBootReact/frontend/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { DogResponse } from './types/DogResponse';\n\nfunction App() {\n  const [dogImage, setDogImage] = useState<string>('');\n  const [loading, setLoading] = useState<boolean>(true);\n  const [error, setError] = useState<string>('');\n\n  // URL do backend baseada no ambiente\n  const backendUrl = process.env.REACT_APP_BACKEND_URL || 'http://localhost:8080';\n\n  useEffect(() => {\n    fetchDogImage();\n  }, []);\n\n  const fetchDogImage = async () => {\n    try {\n      setLoading(true);\n      // Usando um ID aleat贸rio (1-100) para a API\n      const randomId = Math.floor(Math.random() * 100) + 1;\n      const response = await fetch(`${backendUrl}/info/${randomId}`);\n      if (!response.ok) {\n        throw new Error('Erro ao buscar imagem do cachorro');\n      }\n      const data: DogResponse = await response.json();\n      setDogImage(data.message);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Erro desconhecido');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>Imagem Aleat贸ria de Cachorro</h1>\n        {loading && <p>Carregando...</p>}\n        {error && <p className=\"error-message\">{error}</p>}\n        {dogImage && (\n          <div className=\"image-container\">\n            <img src={dogImage} alt=\"Cachorro aleat贸rio\" />\n            <button onClick={fetchDogImage} className=\"load-button\">\n              Carregar Nova Imagem\n            </button>\n          </div>\n        )}\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAGnB,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGR,QAAQ,CAAS,EAAE,CAAC,CACpD,KAAM,CAACS,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAU,IAAI,CAAC,CACrD,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAS,EAAE,CAAC,CAE9C;AACA,KAAM,CAAAa,UAAU,CAAGC,OAAO,CAACC,GAAG,CAACC,qBAAqB,EAAI,uBAAuB,CAE/Ef,SAAS,CAAC,IAAM,CACdgB,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACFP,UAAU,CAAC,IAAI,CAAC,CAChB;AACA,KAAM,CAAAQ,QAAQ,CAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,CAAG,GAAG,CAAC,CAAG,CAAC,CACpD,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGV,UAAU,SAASK,QAAQ,EAAE,CAAC,CAC9D,GAAI,CAACI,QAAQ,CAACE,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,mCAAmC,CAAC,CACtD,CACA,KAAM,CAAAC,IAAiB,CAAG,KAAM,CAAAJ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAC/CnB,WAAW,CAACkB,IAAI,CAACE,OAAO,CAAC,CAC3B,CAAE,MAAOC,GAAG,CAAE,CACZjB,QAAQ,CAACiB,GAAG,WAAY,CAAAJ,KAAK,CAAGI,GAAG,CAACD,OAAO,CAAG,mBAAmB,CAAC,CACpE,CAAC,OAAS,CACRlB,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACEP,IAAA,QAAK2B,SAAS,CAAC,KAAK,CAAAC,QAAA,cAClB1B,KAAA,WAAQyB,SAAS,CAAC,YAAY,CAAAC,QAAA,eAC5B5B,IAAA,OAAA4B,QAAA,CAAI,iCAA4B,CAAI,CAAC,CACpCtB,OAAO,eAAIN,IAAA,MAAA4B,QAAA,CAAG,eAAa,CAAG,CAAC,CAC/BpB,KAAK,eAAIR,IAAA,MAAG2B,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEpB,KAAK,CAAI,CAAC,CACjDJ,QAAQ,eACPF,KAAA,QAAKyB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B5B,IAAA,QAAK6B,GAAG,CAAEzB,QAAS,CAAC0B,GAAG,CAAC,uBAAoB,CAAE,CAAC,cAC/C9B,IAAA,WAAQ+B,OAAO,CAAEjB,aAAc,CAACa,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,sBAExD,CAAQ,CAAC,EACN,CACN,EACK,CAAC,CACN,CAAC,CAEV,CAEA,cAAe,CAAAzB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}